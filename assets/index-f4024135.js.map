{"version":3,"file":"index-f4024135.js","sources":["../../src/pages/defs/index.vue"],"sourcesContent":["<script setup>\nimport { directus } from '~/use/useDb.js'\n\n\nfunction useDefs() {\n\tconst defs = ref()\n\tconst count = ref(0)\n\n\tasync function load() {\n\t\tconst {\n\t\t\tdata,\n\t\t\tmeta: { total_count }\n\t\t} = await directus\n\t\t\t.items('definitions')\n\t\t\t.readByQuery({\n\t\t\t\tmeta: 'total_count'\n\t\t\t});\n\n\t\tdefs.value = data\n\t\tcount.value = total_count\n\t}\n\n\tload()\n\n\treturn {\n\t\tdefs, count, load\n\t}\n}\n\nconst { defs, count, load } = useDefs()\n</script>\n\n<template lang='pug'>\n.flex.flex-col.gap-4.py-4\n\t.flex.flex-col.gap-4\n\t\tDefCard(\n\t\t\tv-for=\"def in defs\" :key=\"def.id\"\n\t\t\tv-bind=\"def\"\n\t\t\t) \n</template>"],"names":["useDefs","defs","ref","count","load","data","total_count","directus"],"mappings":"kTAIA,SAASA,GAAU,CAClB,MAAMC,EAAOC,EAAK,EACZC,EAAQD,EAAI,CAAC,EAEnB,eAAeE,GAAO,CACrB,KAAM,CACL,KAAAC,EACA,KAAM,CAAE,YAAAC,CAAa,CACrB,EAAG,MAAMC,EACR,MAAM,aAAa,EACnB,YAAY,CACZ,KAAM,aACV,CAAI,EAEFN,EAAK,MAAQI,EACbF,EAAM,MAAQG,CACd,CAED,OAAAF,EAAM,EAEC,CACN,KAAAH,EAAM,MAAAE,EAAO,KAAAC,CACb,CACF,CAEA,KAAM,CAAE,KAAAH,EAAM,MAAAE,EAAO,KAAAC,CAAI,EAAKJ,EAAS"}