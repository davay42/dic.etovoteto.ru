import{e as I,r as A,i as g,H as T,I as b,J as k,c as E,K as N}from"./index-dbf58cde.js";function x(e){return b()?(k(e),!0):!1}function F(e){return typeof e=="function"?e():I(e)}const h=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function M(e,t=1e3,f={}){const{immediate:r=!0,immediateCallback:n=!1}=f;let o=null;const u=A(!1);function i(){o&&(clearInterval(o),o=null)}function l(){u.value=!1,i()}function c(){const m=F(t);m<=0||(u.value=!0,n&&e(),i(),o=setInterval(e,m))}if(r&&h&&c(),g(t)||typeof t=="function"){const m=T(t,()=>{u.value&&h&&c()});x(m)}return x(l),{isActive:u,pause:l,resume:c}}const q=h?window:void 0;function C(e,t={}){const{immediate:f=!0,fpsLimit:r=void 0,window:n=q}=t,o=A(!1),u=r?1e3/r:null;let i=0,l=null;function c(d){if(!o.value||!n)return;i||(i=d);const w=d-i;if(u&&w<u){l=n.requestAnimationFrame(c);return}i=d,e({delta:w,timestamp:d}),l=n.requestAnimationFrame(c)}function m(){!o.value&&n&&(o.value=!0,i=0,l=n.requestAnimationFrame(c))}function v(){o.value=!1,l!=null&&n&&(n.cancelAnimationFrame(l),l=null)}return f&&m(),x(v),{isActive:N(o),pause:v,resume:m}}function L(e={}){const{controls:t=!1,interval:f="requestAnimationFrame"}=e,r=A(new Date),n=()=>r.value=new Date,o=f==="requestAnimationFrame"?C(n,{immediate:!0}):M(n,f,{immediate:!0});return t?{now:r,...o}:r}const _=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:Number.POSITIVE_INFINITY,value:31536e6,name:"year"}],O={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""};function R(e){return e.toISOString().slice(0,10)}function W(e,t={}){const{controls:f=!1,updateInterval:r=3e4}=t,{now:n,...o}=L({interval:r,controls:!0}),u=E(()=>U(new Date(F(e)),t,F(n)));return f?{timeAgo:u,...o}:u}function U(e,t={},f=Date.now()){var r;const{max:n,messages:o=O,fullDateFormatter:u=R,units:i=_,showSecond:l=!1,rounding:c="round"}=t,m=typeof c=="number"?a=>+a.toFixed(c):Math[c],v=+f-+e,d=Math.abs(v);function w(a,s){return m(Math.abs(a)/s.value)}function $(a,s){const y=w(a,s),p=a>0,D=S(s.name,y,p);return S(p?"past":"future",D,p)}function S(a,s,y){const p=o[a];return typeof p=="function"?p(s,y):p.replace("{0}",s.toString())}if(d<6e4&&!l)return o.justNow;if(typeof n=="number"&&d>n)return u(new Date(e));if(typeof n=="string"){const a=(r=i.find(s=>s.name===n))==null?void 0:r.max;if(a&&d>a)return u(new Date(e))}for(const[a,s]of i.entries()){if(w(v,s)<=0&&i[a-1])return $(v,i[a-1]);if(d<s.max)return $(v,s)}return o.invalid}export{W as u};
//# sourceMappingURL=index-d6167793.js.map
